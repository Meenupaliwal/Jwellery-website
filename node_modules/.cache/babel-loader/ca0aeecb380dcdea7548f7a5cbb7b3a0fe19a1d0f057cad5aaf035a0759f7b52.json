{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nimport throwIfMissing from \"./util/throwIfMissing\";\nimport { addClasses, removeClasses } from \"./util/dom\";\nvar BoundingBox = /*#__PURE__*/function () {\n  function BoundingBox(options) {\n    _classCallCheck(this, BoundingBox);\n    this.isShowing = false;\n    var _options$namespace = options.namespace,\n      namespace = _options$namespace === void 0 ? null : _options$namespace,\n      _options$zoomFactor = options.zoomFactor,\n      zoomFactor = _options$zoomFactor === void 0 ? throwIfMissing() : _options$zoomFactor,\n      _options$containerEl = options.containerEl,\n      containerEl = _options$containerEl === void 0 ? throwIfMissing() : _options$containerEl;\n    this.settings = {\n      namespace: namespace,\n      zoomFactor: zoomFactor,\n      containerEl: containerEl\n    };\n    this.openClasses = this._buildClasses(\"open\");\n    this._buildElement();\n  }\n  _createClass(BoundingBox, [{\n    key: \"_buildClasses\",\n    value: function _buildClasses(suffix) {\n      var classes = [\"drift-\".concat(suffix)];\n      var ns = this.settings.namespace;\n      if (ns) {\n        classes.push(\"\".concat(ns, \"-\").concat(suffix));\n      }\n      return classes;\n    }\n  }, {\n    key: \"_buildElement\",\n    value: function _buildElement() {\n      this.el = document.createElement(\"div\");\n      addClasses(this.el, this._buildClasses(\"bounding-box\"));\n    }\n  }, {\n    key: \"show\",\n    value: function show(zoomPaneWidth, zoomPaneHeight) {\n      this.isShowing = true;\n      this.settings.containerEl.appendChild(this.el);\n      var style = this.el.style;\n      style.width = \"\".concat(Math.round(zoomPaneWidth / this.settings.zoomFactor), \"px\");\n      style.height = \"\".concat(Math.round(zoomPaneHeight / this.settings.zoomFactor), \"px\");\n      addClasses(this.el, this.openClasses);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.isShowing) {\n        this.settings.containerEl.removeChild(this.el);\n      }\n      this.isShowing = false;\n      removeClasses(this.el, this.openClasses);\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\n      var pageXOffset = window.pageXOffset;\n      var pageYOffset = window.pageYOffset;\n      var inlineLeft = triggerRect.left + percentageOffsetX * triggerRect.width - this.el.clientWidth / 2 + pageXOffset;\n      var inlineTop = triggerRect.top + percentageOffsetY * triggerRect.height - this.el.clientHeight / 2 + pageYOffset;\n      if (inlineLeft < triggerRect.left + pageXOffset) {\n        inlineLeft = triggerRect.left + pageXOffset;\n      } else if (inlineLeft + this.el.clientWidth > triggerRect.left + triggerRect.width + pageXOffset) {\n        inlineLeft = triggerRect.left + triggerRect.width - this.el.clientWidth + pageXOffset;\n      }\n      if (inlineTop < triggerRect.top + pageYOffset) {\n        inlineTop = triggerRect.top + pageYOffset;\n      } else if (inlineTop + this.el.clientHeight > triggerRect.top + triggerRect.height + pageYOffset) {\n        inlineTop = triggerRect.top + triggerRect.height - this.el.clientHeight + pageYOffset;\n      }\n      this.el.style.left = \"\".concat(inlineLeft, \"px\");\n      this.el.style.top = \"\".concat(inlineTop, \"px\");\n    }\n  }]);\n  return BoundingBox;\n}();\nexport { BoundingBox as default };","map":{"version":3,"names":["throwIfMissing","addClasses","removeClasses","BoundingBox","options","_classCallCheck","isShowing","_options$namespace","namespace","_options$zoomFactor","zoomFactor","_options$containerEl","containerEl","settings","openClasses","_buildClasses","_buildElement","suffix","classes","concat","ns","push","el","document","createElement","zoomPaneWidth","zoomPaneHeight","appendChild","style","width","Math","round","height","removeChild","percentageOffsetX","percentageOffsetY","triggerRect","pageXOffset","window","pageYOffset","inlineLeft","left","clientWidth","inlineTop","top","clientHeight"],"sources":["D:\\Jwellery-website\\node_modules\\drift-zoom\\src\\js\\BoundingBox.js"],"sourcesContent":["import throwIfMissing from \"./util/throwIfMissing\";\nimport { addClasses, removeClasses } from \"./util/dom\";\n\nexport default class BoundingBox {\n  constructor(options) {\n    this.isShowing = false;\n\n    const { namespace = null, zoomFactor = throwIfMissing(), containerEl = throwIfMissing() } = options;\n\n    this.settings = { namespace, zoomFactor, containerEl };\n\n    this.openClasses = this._buildClasses(\"open\");\n\n    this._buildElement();\n  }\n\n  _buildClasses(suffix) {\n    const classes = [`drift-${suffix}`];\n\n    const ns = this.settings.namespace;\n    if (ns) {\n      classes.push(`${ns}-${suffix}`);\n    }\n\n    return classes;\n  }\n\n  _buildElement() {\n    this.el = document.createElement(\"div\");\n    addClasses(this.el, this._buildClasses(\"bounding-box\"));\n  }\n\n  show(zoomPaneWidth, zoomPaneHeight) {\n    this.isShowing = true;\n\n    this.settings.containerEl.appendChild(this.el);\n\n    const style = this.el.style;\n    style.width = `${Math.round(zoomPaneWidth / this.settings.zoomFactor)}px`;\n    style.height = `${Math.round(zoomPaneHeight / this.settings.zoomFactor)}px`;\n\n    addClasses(this.el, this.openClasses);\n  }\n\n  hide() {\n    if (this.isShowing) {\n      this.settings.containerEl.removeChild(this.el);\n    }\n\n    this.isShowing = false;\n\n    removeClasses(this.el, this.openClasses);\n  }\n\n  setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\n    const pageXOffset = window.pageXOffset;\n    const pageYOffset = window.pageYOffset;\n\n    let inlineLeft = triggerRect.left + percentageOffsetX * triggerRect.width - this.el.clientWidth / 2 + pageXOffset;\n    let inlineTop = triggerRect.top + percentageOffsetY * triggerRect.height - this.el.clientHeight / 2 + pageYOffset;\n\n    if (inlineLeft < triggerRect.left + pageXOffset) {\n      inlineLeft = triggerRect.left + pageXOffset;\n    } else if (inlineLeft + this.el.clientWidth > triggerRect.left + triggerRect.width + pageXOffset) {\n      inlineLeft = triggerRect.left + triggerRect.width - this.el.clientWidth + pageXOffset;\n    }\n\n    if (inlineTop < triggerRect.top + pageYOffset) {\n      inlineTop = triggerRect.top + pageYOffset;\n    } else if (inlineTop + this.el.clientHeight > triggerRect.top + triggerRect.height + pageYOffset) {\n      inlineTop = triggerRect.top + triggerRect.height - this.el.clientHeight + pageYOffset;\n    }\n\n    this.el.style.left = `${inlineLeft}px`;\n    this.el.style.top = `${inlineTop}px`;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}